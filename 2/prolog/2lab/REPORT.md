#№ Отчет по лабораторной работе №2
## по курсу "Логическое программирование"

## Решение логических задач

### студент: Диёров Д.У.

## Результат проверки

| Преподаватель     | Дата         |  Оценка       |
|-------------------|--------------|---------------|
| Сошников Д.В. |              |               |
| Левинская М.А.|              |               |

> *Комментарии проверяющих (обратите внимание, что более подробные комментарии возможны непосредственно в репозитории по тексту программы)*


## Введение


Для решения логических задач можно использовать два подхода: полный перебор и метод исключения. При полном переборе проверяются все возможные варианты решения, а метод исключения помогает избавиться от противоречивых вариантов, улучшая эффективность решения. Задачи данного типа находят эффективное решение с помощью языков программирования на основе предикатной логики, таких как Prolog. Программа на Prolog способна вывести все решения, при условии, что все выражения в задаче описаны корректно.
## Задание

В одном городе живут 5 человек. Их имена Леонид, Михаил, Николай, Олег и Петр. Их фамилии Атаров, Бартенев, Кленов, Данилин и Иванов. Бартенев знаком только с двумя из перечисленных мужчин. Петр знаком со всеми, кроме одного. Леонид знаком только с одним из всех. Данилин и Михаил незнакомы. Николай и Иванов знают друг друга. Михаил, Николай и Олег знакомы между собой. Атаров незнаком только с одним из всех. Только один из всех знаком с Кленовым. Назовите имена и фамилии каждого. С кем знаком каждый из них?

## Принцип решения
Предикат ```accordance()``` проверяет соответствует ли имя фамилии.

```prolog
accordance([[_, _]]).
accordance([[N, S] | T]) :- 
   member1([N, AS], T), not(AS = S), !, fail;
   member1([AN, S], T), not(AN = N), !, fail;
   accordance(T).
```
Предикат ```is_unique()``` проверяет уникальны ли элементы в списке.
```prolog
is_unique([]).
is_unique([H | T]) :- 
   not(member1(H, T)),
   is_unique(T).
```

Предикат ```relationship()``` описывает знакомство нескольких людей
```prolog
relationship([]) :- fail.
relationship([[N, S], [N1, S1]]) :- 
   pers(N, S), pers(N1, S1), 
   is_unique([N, N1]),
   is_unique([S, S1]).
relationship([[N, S], [N1, S1], [N2, S2]]) :- 
   pers(N, S), pers(N1, S1), pers(N2, S2),
   is_unique([N, N1, N2]), fact(N1, N2),
   is_unique([S, S1, S2]).
relationship([[N, S], [N1, S1], [N2, S2], [N3, S3]]) :- 
   pers(N, S), pers(N1, S1), pers(N2, S2), pers(N3, S3),
   is_unique([N, N1, N2, N3]), fact(N1, N2), fact(N1, N3), fact(N2, N3),
   is_unique([S, S1, S2, S3]).
```
Предикат ```solve(A,B,C,D,E)``` возвращает ответ:
```
?- solve(A,B,C,D,E).
A = [[leonid, klenov], [petr, danilin]],
B = [[michail, bartenev], [nickolay, atarov], [oleg, ivanov]],
C = [[nickolay, atarov], [michail, bartenev], [oleg, ivanov], [petr, danilin]],
D = [[oleg, ivanov], [michail, bartenev], [nickolay, atarov], [petr, danilin]],
E = [[petr, danilin], [leonid, klenov], [nickolay, atarov], [oleg, ivanov]] .
```
Что означает, что у Леонида фамилия Кленов и он знаком с Петром у котрого фамилия Данилин.
Михаил Бартенев знаком с Николаем Атаровым и Олегом Ивановым, и т.д.


## Выводы

С помощью языка Prolog можно достаточно легко решать логические задачи. Необходимо просто описать факт и начать перебор и prolog сам найдет решение. Однако, если появляются серьезные сложности,такой метод решения задач на языке prolog является достаточно долгим, например в моей задаче необходимо было каждый раз перебирать количество знакомств и с кем человек знаком из-за чего моя программа работает 3 минуты, что достаточно долго и неэффективно.


